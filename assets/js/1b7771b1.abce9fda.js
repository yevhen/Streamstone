"use strict";(self.webpackChunkdocs_site=self.webpackChunkdocs_site||[]).push([[459],{5482:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>a,metadata:()=>r,toc:()=>m});const r=JSON.parse('{"id":"scenarios/S02_Open_stream_for_writing","title":"Opening a Stream","description":"This scenario demonstrates how to open a stream in Streamstone.","source":"@site/docs/scenarios/S02_Open_stream_for_writing.md","sourceDirName":"scenarios","slug":"/scenarios/S02_Open_stream_for_writing","permalink":"/Streamstone/docs/scenarios/S02_Open_stream_for_writing","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Provisioning a New Stream","permalink":"/Streamstone/docs/scenarios/S01_Provision_new_stream"},"next":{"title":"Writing to a Stream","permalink":"/Streamstone/docs/scenarios/S04_Write_to_stream"}}');var s=t(4848),i=t(8453);const a={},o="Opening a Stream",c={},m=[];function p(n){const e={code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,i.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"opening-a-stream",children:"Opening a Stream"})}),"\n",(0,s.jsx)(e.p,{children:"This scenario demonstrates how to open a stream in Streamstone."}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",metastring:'title="S02_Open_stream_for_writing.cs"',children:'using System;\nusing System.Threading.Tasks;\n\nusing Streamstone;\n\nnamespace Example.Scenarios\n{\n    public class S02_Open_stream_for_writing : Scenario\n    {\n        public override async Task RunAsync()\n        {\n            await OpenNonExistingStream();\n            await OpenExistingStream();\n        }\n\n        async Task OpenNonExistingStream()\n        {\n            try\n            {\n                await Stream.OpenAsync(Partition);\n            }\n            catch (StreamNotFoundException)\n            {\n                Console.WriteLine("Opening non-existing stream will throw StreamNotFoundException");\n            }\n        }\n\n        async Task OpenExistingStream()\n        {\n            await Stream.ProvisionAsync(Partition);\n\n            var stream = await Stream.OpenAsync(Partition);\n\n            Console.WriteLine("Opened existing (empty) stream in partition \'{0}\'", stream.Partition);\n            Console.WriteLine("Etag: {0}", stream.ETag);\n            Console.WriteLine("Version: {0}", stream.Version);\n        }\n    }\n} \n'})})]})}function d(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(p,{...n})}):p(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>a,x:()=>o});var r=t(6540);const s={},i=r.createContext(s);function a(n){const e=r.useContext(i);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:a(n.components),r.createElement(i.Provider,{value:e},n.children)}}}]);